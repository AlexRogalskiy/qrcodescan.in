"use strict";var n={},t=document.querySelector(".app__snackbar"),e=null;n.show=(n,o=4e3)=>{n&&(e&&e.remove(),(e=document.createElement("div")).className="app__snackbar-msg",e.textContent=n,t.appendChild(e),setTimeout((()=>{e.remove()}),o))};var o={};function i(n){!n&&window.isMediaStreamAPISupported?o.webcam=document.querySelector("video"):o.webcam=document.querySelector("img")}o.active=!1,o.webcam=null,o.canvas=null,o.ctx=null,o.decoder=null,o.setCanvas=()=>{o.canvas=document.createElement("canvas"),o.ctx=o.canvas.getContext("2d")},o.init=()=>{var t=!1;function e(){o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight}function a(n){navigator.mediaDevices.getUserMedia(n).then((function(n){o.webcam.srcObject=n,o.webcam.setAttribute("playsinline",!0),o.webcam.setAttribute("controls",!0),setTimeout((()=>{document.querySelector("video").removeAttribute("controls")}))})).catch((function(n){console.log("Error occurred ",n),r()}))}function r(){window.noCameraPermission=!0,document.querySelector(".custom-scanner").style.display="none",n.show("Unable to access the camera",1e4)}i(),o.setCanvas(),o.decoder=new Worker("decoder.js"),window.isMediaStreamAPISupported?o.webcam.addEventListener("play",(function(n){t||(e(),t=!0)}),!1):e(),window.isMediaStreamAPISupported&&navigator.mediaDevices.enumerateDevices().then((function(n){var t,e=n.filter((function(n){if(n.label.split(",")[1],"videoinput"==n.kind)return n}));e.length>1?(t={video:{mandatory:{sourceId:e[e.length-1].deviceId?e[e.length-1].deviceId:null}},audio:!1},window.iOS&&(t.video.facingMode="environment"),a(t)):e.length?(t={video:{mandatory:{sourceId:e[0].deviceId?e[0].deviceId:null}},audio:!1},window.iOS&&(t.video.facingMode="environment"),t.video.mandatory.sourceId||window.iOS?a(t):a({video:!0})):a({video:!0})})).catch((function(n){r(),console.error("Error occurred : ",n)}))},o.scan=function(n,t){function e(){if(o.active)try{o.ctx.drawImage(o.webcam,0,0,o.canvas.width,o.canvas.height);var n=o.ctx.getImageData(0,0,o.canvas.width,o.canvas.height);n.data&&o.decoder.postMessage(n)}catch(n){"NS_ERROR_NOT_AVAILABLE"==n.name&&setTimeout(e,0)}}o.active=!0,o.setCanvas(),o.decoder.onmessage=function(t){if(t.data.length>0){var i=t.data[0][2];o.active=!1,n(i)}setTimeout(e,0)},setTimeout((()=>{i(t)})),e()};var a=[],r=[];!function(n,t){if(n&&"undefined"!=typeof document){var e,o=!0===t.prepend?"prepend":"append",i=!0===t.singleTag,s="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var l=a.indexOf(s);-1===l&&(l=a.push(s)-1,r[l]={}),e=r[l]&&r[l][o]?r[l][o]:r[l][o]=p()}else e=p();65279===n.charCodeAt(0)&&(n=n.substring(1)),e.styleSheet?e.styleSheet.cssText+=n:e.appendChild(document.createTextNode(n))}function p(){var n=document.createElement("style");if(n.setAttribute("type","text/css"),t.attributes)for(var e=Object.keys(t.attributes),i=0;i<e.length;i++)n.setAttribute(e[i],t.attributes[e[i]]);var a="prepend"===o?"afterbegin":"beforeend";return s.insertAdjacentElement(a,n),n}}('/*! minireset.css v0.0.2 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n\tmargin: 0;\n\tpadding: 0;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n\tfont-size: 100%;\n\tfont-weight: normal;\n}\nul {\n\tlist-style: none;\n}\nbutton,\ninput,\nselect,\ntextarea {\n\tmargin: 0;\n}\nhtml {\n\tbox-sizing: border-box;\n}\n*,\n*:before,\n*:after {\n\tbox-sizing: inherit;\n}\nimg,\nembed,\nobject,\naudio {\n\theight: auto;\n\tmax-width: 100%;\n}\niframe {\n\tborder: 0;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\ntd,\nth {\n\tpadding: 0;\n\ttext-align: left;\n}\n\nbody {\n\tfont-family: Roboto, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n}\n\n.app__layout {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\toverflow: hidden;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n}\n\n.app__header {\n\twidth: 100%;\n\theight: 56px;\n\tcolor: #fff;\n\tdisplay: flex;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 10;\n}\n\n.app__header-icon {\n\twidth: 35px;\n\theight: 35px;\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: absolute;\n\tright: 20px;\n\ttop: 20px;\n}\n\n.app__header-icon:active {\n\topacity: 0.8;\n}\n\n.app__header-title {\n\tmargin-left: 5px;\n\tfont-size: 19px;\n\tuser-select: none;\n}\n\n.app__layout-content {\n\theight: inherit;\n\t/*margin-top: 56px;*/\n}\n\n.custom-menu-icon {\n\tfont-size: 28px;\n\tline-height: 47px;\n}\n\n.custom-title,\n.custom-menu-icon {\n\tcolor: #fff;\n}\n\n.custom-btn {\n\tposition: fixed;\n\tright: 26px;\n\tbottom: 26px;\n\tbackground: #448aff;\n\tborder-radius: 50%;\n\tborder: none;\n\twidth: 56px;\n\theight: 56px;\n\toutline: none;\n\tbox-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\tz-index: 9999;\n}\n\n.custom-btn:active {\n\tbox-shadow: none;\n}\n\n.custom-msg {\n\ttext-align: center;\n\twidth: 90%;\n\theight: 50%;\n\toverflow: auto;\n\tmargin: auto;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0;\n\tright: 0;\n\tfont-size: 16px;\n}\n\n.custom-fab-icon {\n\tcolor: #fff;\n\tfont-size: 30px;\n\tmargin-top: 2px;\n\tuser-select: none;\n}\n\nvideo {\n\ttransform: translateX(-50%) translateY(-50%);\n\ttop: 50%;\n\tleft: 50%;\n\tmin-width: 100%;\n\tmin-height: 100%;\n\twidth: auto;\n\theight: auto;\n\tposition: absolute;\n}\n\n#list li {\n\tlist-style-type: none;\n\ttext-decoration: underline;\n\tcolor: #00f;\n}\n\n.custom-copy-btn {\n\topacity: 0;\n}\n\n.hide {\n\tdisplay: none;\n}\n\n@-webkit-keyframes scanner {\n\t0% {\n\t\tbottom: 100%;\n\t}\n\t50% {\n\t\tbottom: 0%;\n\t}\n\t100% {\n\t\tbottom: 100%;\n\t}\n}\n\n@-moz-keyframes scanner {\n\t0% {\n\t\tbottom: 100%;\n\t}\n\t50% {\n\t\tbottom: 0%;\n\t}\n\t100% {\n\t\tbottom: 100%;\n\t}\n}\n\n@-o-keyframes scanner {\n\t0% {\n\t\tbottom: 100%;\n\t}\n\t50% {\n\t\tbottom: 0%;\n\t}\n\t100% {\n\t\tbottom: 100%;\n\t}\n}\n\n@keyframes scanner {\n\t0% {\n\t\tbottom: 100%;\n\t}\n\t50% {\n\t\tbottom: 0%;\n\t}\n\t100% {\n\t\tbottom: 100%;\n\t}\n}\n\n.custom-scanner {\n\twidth: 100%;\n\theight: 2px;\n\tbackground: #4caf50;\n\tposition: absolute;\n\t-webkit-transition: all 200ms linear;\n\t-moz-transition: all 200ms linear;\n\ttransition: all 200ms linear;\n\t-webkit-animation: scanner 3s infinite linear;\n\t-moz-animation: scanner 3s infinite linear;\n\t-o-animation: scanner 3s infinite linear;\n\tanimation: scanner 3s infinite linear;\n\tbox-shadow: 0 1px 0 0 rgba(0, 0, 0, 0.4);\n\tdisplay: none;\n}\n\n#camera {\n\topacity: 0;\n}\n\n.no-support {\n\tfont-size: 20px;\n\ttext-align: center;\n}\n\n.app__snackbar {\n\tposition: fixed;\n\tbottom: 15px;\n\tleft: 20px;\n\tpointer-events: none;\n\tz-index: 9999;\n}\n\n.app__snackbar-msg {\n\twidth: 250px;\n\tmin-height: 50px;\n\tbackground-color: #404040;\n\tcolor: #fff;\n\tborder-radius: 3px;\n\tbox-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.24);\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\t-webkit-box-pack: justify;\n\t-ms-flex-pack: justify;\n\tjustify-content: space-between;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tpadding-left: 15px;\n\tpadding-right: 10px;\n\tword-break: break-all;\n\t-webkit-transition: opacity 3s cubic-bezier(0, 0, 0.3, 1) 0;\n\ttransition: opacity 0.3s cubic-bezier(0, 0, 0.3, 1) 0;\n\ttext-transform: initial;\n\tmargin-bottom: 10px;\n\tz-index: 9999;\n}\n\n.app__snackbar--hide {\n\topacity: 0;\n}\n\n.app__dialog {\n\tz-index: 12;\n\tbackground-color: #fff;\n\twidth: 290px;\n\theight: 180px;\n\tborder-radius: 2px;\n\tdisplay: flex;\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\ttop: 0;\n\tmargin: auto;\n\tbox-shadow: 0 9px 46px 8px rgba(0, 0, 0, 0.14), 0 11px 15px -7px rgba(0, 0, 0, 0.12), 0 24px 38px 3px rgba(0, 0, 0, 0.2);\n}\n\n.app__dialog h5 {\n\tmargin-top: 20px;\n\tmargin-left: 18px;\n\tfont-weight: 500;\n}\n\n.app__dialog input {\n\twidth: 250px;\n\tmargin: 20px;\n\theight: 30px;\n\tborder: none;\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.12);\n\toutline: none;\n\tfont-size: 15px;\n\tmargin-top: 25px;\n\tcolor: rgba(0, 0, 0, 0.54);\n\tfont-weight: 500;\n}\n\n.app__dialog-actions {\n\tdisplay: block;\n\tposition: absolute;\n\tbottom: 13px;\n\tright: 20px;\n}\n\n.app__dialog-open,\n.app__dialog-close {\n\tborder: 0;\n\theight: 35px;\n\twidth: 70px;\n\tfont-size: 16px;\n\tbackground: transparent;\n\tfont-weight: 500;\n\toutline: none;\n\tcursor: pointer;\n}\n\n.app__dialog-open {\n\tdisplay: none;\n}\n\n.app__dialog-open:active,\n.app__dialog-close:active {\n\topacity: 0.9;\n}\n\n.app__dialog--hide {\n\tdisplay: none;\n}\n\n.app__overlay {\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n\ttransition: all 200ms ease-in;\n\twidth: 320px;\n\theight: 320px;\n\tmargin: auto;\n}\n\n.app__overlay-left,\n.app__overlay-right {\n\twidth: 52px;\n\theight: 340px;\n\tbackground: #7f7f7f;\n}\n\n.app__overlay-left {\n\tmargin-left: -57px;\n\tmargin-top: -10px;\n}\n\n.app__overlay-right {\n\tmargin-right: -57px;\n\tmargin-top: -340px;\n\tfloat: right;\n}\n\n.app__overlay {\n\tborder: 0;\n}\n\n.app__help-text,\n.app__select-photos {\n\tcolor: #fff;\n\tposition: absolute;\n\tbottom: -70px;\n\tfont-size: 18px;\n\tright: 0;\n\ttext-align: center;\n\tuser-select: none;\n}\n\n.app__help-text {\n\tdisplay: none;\n\tleft: 0;\n}\n\n.app__dialog-overlay {\n\tposition: fixed;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\ttop: 0;\n\tbackground: rgba(0, 0, 0, 0.55);\n\tz-index: 11;\n}\n\n.camera__icon,\n.focus__icon {\n\tposition: relative;\n\tleft: 10px;\n\tdisplay: none;\n}\n\n.app__select-photos {\n\twidth: 58px;\n\theight: 58px;\n\tcursor: pointer;\n\tposition: fixed;\n\tbottom: 20px;\n\tright: 20px;\n\tborder-radius: 50%;\n\tbackground-color: #3f51b5;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.app__select-photos:active {\n\topacity: 0.8;\n}\n\ninput[type="file"] {\n\tdisplay: none;\n}\n\n#frame {\n\twidth: auto;\n\theight: auto;\n}\n',{}),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js").then((t=>{localStorage.getItem("offline")||(localStorage.setItem("offline",!0),n.show("App is ready for offline usage.",5e3))})).catch((n=>{console.log("SW registration failed: ",n)}))})),window.addEventListener("DOMContentLoaded",(()=>{window.iOS=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,window.isMediaStreamAPISupported=navigator&&navigator.mediaDevices&&"enumerateDevices"in navigator.mediaDevices,window.noCameraPermission=!1;var n=null,t=null,e=document.querySelector(".app__select-photos"),i=document.querySelector(".app__dialog"),a=document.querySelector(".app__dialog-overlay"),r=document.querySelector(".app__dialog-open"),s=document.querySelector(".app__dialog-close"),l=document.querySelector(".custom-scanner"),p=document.querySelector("#result");function d(t=!1){window.isMediaStreamAPISupported&&!window.noCameraPermission&&(l.style.display="block"),t&&(l.style.display="block"),o.scan((t=>{n=t,p.value=t,p.select(),l.style.display="none",((n="")=>!(!n||"string"!=typeof n)&&new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n))(t)&&(r.style.display="inline-block"),i.classList.remove("app__dialog--hide"),a.classList.remove("app__dialog--hide")}),t)}function c(){n=null,p.value="",window.isMediaStreamAPISupported||(t.src="",t.className=""),i.classList.add("app__dialog--hide"),a.classList.add("app__dialog--hide")}document.querySelector(".app__help-text"),document.querySelector(".app__header-icon svg"),document.querySelector("video"),window.appOverlay=document.querySelector(".app__overlay"),window.addEventListener("load",(n=>{o.init(),setTimeout((()=>{window.appOverlay.style.borderStyle="solid",window.isMediaStreamAPISupported&&d()}),1e3),function(){var n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("capture","camera"),n.id="camera",window.appOverlay.style.borderStyle="",e.style.display="flex",(t=document.createElement("img")).src="",t.id="frame";var o=document.querySelector(".app__layout-content");o.appendChild(n),o.appendChild(t),e.addEventListener("click",(()=>{l.style.display="none",document.querySelector("#camera").click()})),n.addEventListener("change",(n=>{n.target&&n.target.files.length>0&&(t.className="app__overlay",t.src=URL.createObjectURL(n.target.files[0]),window.noCameraPermission||(l.style.display="block"),window.appOverlay.style.borderColor="rgb(62, 78, 184)",d(!0))}))}()})),s.addEventListener("click",c,!1),r.addEventListener("click",(function(){console.log("Result: ",n),((n="")=>new RegExp("^(https?:\\/\\/)","i").test(n))(n)||(n=`//${n}`);window.open(n,"_blank","toolbar=0,location=0,menubar=0"),n=null,c()}),!1)}));
